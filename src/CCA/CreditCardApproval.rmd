---
title: "Credit Card Approval Prediction Model"
author: "Marcelo Capozzi - Nicolas Gladkoff"
date: "Abril 2020"
output:
  html_notebook: default
  pdf_document: default
  html_document:
    df_print: paged
---

### DataSource:
https://www.kaggle.com/rikdifos/credit-card-approval-prediction

### GitHub:
https://github.com/ngladkoff/ds-credit-card-approval


```{r, message=FALSE}
##################
# Load libraries #
##################
library(ggplot2)

```

```{r}
######################
# Download datafiles #
######################

# Set the data directory 
# It will be a subdirectory 'data/' of the current directory
maindir <- getwd()
datadir <- paste(maindir, "data", sep="/")

applRecordURL <- "https://raw.githubusercontent.com/ngladkoff/ds-credit-card-approval/master/data/application_record.csv"
credRecordURL <- "https://raw.githubusercontent.com/ngladkoff/ds-credit-card-approval/master/data/credit_record.csv"

applRecordFile <- paste(datadir, "applRecord.csv", sep="/")
credRecordFile <- paste(datadir, "credRecord.csv", sep="/")

if (!dir.exists(datadir)) {
    print(paste("Creating data directory ", datadir))
    dir.create(datadir)
}

if (!file.exists(applRecordFile)) {
    print("Downloading Application Records")
    download.file(applRecordURL, applRecordFile, method="auto")
} else {
    print(paste("Data file", applRecordFile, "already exists"))
}

if (!file.exists(credRecordFile)) {
    print("Downloading Application Records")
    download.file(credRecordURL, credRecordFile, method="auto")
} else {
    print(paste("Data file", credRecordFile, "already exists"))
}

```

```{r}
#######################
# Load the dataframes #
#######################

dfApplications <- read.csv(applRecordFile)
dfCredit <- read.csv(credRecordFile)

```


## Applications Records Structure
```{r}
str(dfApplications)
```


## Credit Records Structure
```{r}
str(dfCredit)
```

Se observan IDs repetidos

## Head de Credit Records
```{r}
head(dfCredit)
```


## Applications Records Summary
```{r}
summary(dfApplications)
```


## Credit Records Summary
```{r}
summary(dfCredit)
```

## Merge Data (antes de mergear la data hay que limpiarla! o hacer un pivot de los meses? los meses llegan hasta -60 -> sacar conclusiones y ajustar a una columna? -> ejemplo: antig√∫edad del prestamo o credit record)
```{r}
dfCreditCard <- merge(dfApplications, dfCredit, by="ID")
```

## Merge Structure
```{r}
str(dfCreditCard)
```


## Merge Summary
```{r}
summary(dfCreditCard)
```


